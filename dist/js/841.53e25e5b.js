"use strict";(self["webpackChunkmatic_academy"]=self["webpackChunkmatic_academy"]||[]).push([[841],{841:function(t,e,o){o.r(e),o.d(e,{default:function(){return j}});var s=o(3396);const r={class:"page-my-account"},a={class:"columns is-multiline"},i=(0,s._)("div",{class:"mt-4 mb-4"},[(0,s._)("h1",{class:"title"},"ACCOUNT DETAILS")],-1),n={class:"col-12"},l=(0,s._)("hr",null,null,-1),c={class:"col-12"},u=(0,s._)("div",{class:"row"},[(0,s._)("h2",{class:"subtitle heading float-left m-4"},"My orders")],-1),d=(0,s._)("br",null,null,-1),m={key:0},g={key:1},h=(0,s._)("h2",{class:"m-5"},"No Orders Yet !!!!",-1),y=[h];function _(t,e,o,h,_,w){const v=(0,s.up)("OrderSummary");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",a,[i,(0,s._)("div",n,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>w.logout()),class:"btn btn-success"},"Log out")]),l,(0,s._)("div",c,[u,d,0!=_.orders.length?((0,s.wg)(),(0,s.iD)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(_.orders,(t=>((0,s.wg)(),(0,s.j4)(v,{key:t.id,order:t},null,8,["order"])))),128))])):((0,s.wg)(),(0,s.iD)("div",g,y))])])])}var w=o(6265),v=o.n(w),b=o(7139);const k={class:"box mb-4"},p={class:"is-size-4 mb-6"},D=(0,s._)("h4",{class:"is-size-5 heading mt-4"},"Products",-1),f={class:"table is-fullwidth"},q=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"Product"),(0,s._)("th",null,"Price"),(0,s._)("th",null,"Quantity"),(0,s._)("th",null,"Total")])],-1),I={key:0},O={key:1},z={key:2},S={key:3};function T(t,e,o,r,a,i){return(0,s.wg)(),(0,s.iD)("div",k,[(0,s._)("h3",p,[(0,s._)("b",null," Order ID : "+(0,b.zw)(o.order.id),1)]),D,(0,s._)("table",f,[q,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.order.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id},[0!=t.quantity?((0,s.wg)(),(0,s.iD)("td",I,(0,b.zw)(t.product.name),1)):(0,s.kq)("",!0),0!=t.quantity?((0,s.wg)(),(0,s.iD)("td",O,"$"+(0,b.zw)(t.price),1)):(0,s.kq)("",!0),0!=t.quantity?((0,s.wg)(),(0,s.iD)("td",z,(0,b.zw)(t.quantity),1)):(0,s.kq)("",!0),0!=t.quantity?((0,s.wg)(),(0,s.iD)("td",S,"$"+(0,b.zw)(i.getItemTotal(t).toFixed(2)),1)):(0,s.kq)("",!0)])))),128))])])])}var $={name:"OrderSummary",props:{order:Object},methods:{getItemTotal(t){return t.quantity*t.price},orderTotalLength(t){return t.items.reduce(((t,e)=>t+e.quantity),0)}}},A=o(89);const C=(0,A.Z)($,[["render",T]]);var L=C,U={name:"MyAccount",components:{OrderSummary:L},data(){return{orders:[],account_details:[]}},mounted(){document.title="My account | Anasazi",this.getMyOrders(),this.getAccountDetails()},methods:{logout(){v().defaults.headers.common.Authorization="",localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userid"),this.$store.commit("removeToken"),this.$store.commit("removeUserId"),this.$router.push("/")},async getMyOrders(){this.$store.commit("setIsLoading",!0),await v().get("/api/v1/orders/").then((t=>{this.orders=t.data})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)},async GetFile(){await v().get("/api/v1/CustomUser/document",{responseType:"blob"}).then((t=>{window.open(URL.createObjectURL(t.data))}))},getAccountDetails(){v().get(`/api/v1/CustomUser/${localStorage.getItem("userid")}/`).then((t=>{this.account_details=t.data})).catch((t=>{console.log(t)}))}}};const M=(0,A.Z)(U,[["render",_]]);var j=M}}]);
//# sourceMappingURL=841.53e25e5b.js.map