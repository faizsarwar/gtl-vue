{"version":3,"file":"js/698.8e6e39bb.js","mappings":"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","sources":["webpack://matic-academy/./src/views/login.vue","webpack://matic-academy/./src/views/login.vue?6051"],"sourcesContent":["  \n<template>\n  <div class=\"page-sign-up m-5 row\">\n\n        <div class=\"col-4 \">\n\n        </div>\n      <div class=\"col-4 is-offset-4\">\n        <h1 class=\"heading\"> <b>  Log in </b></h1>\n\n        <form @submit.prevent=\"submitForm\" >\n          <div class=\"form-group mt-4 mb-5\">\n            <!-- <label for=\"formGroupExampleInput\" class=\"form-label\">Username</label> -->\n            <p class=\"form-label\"> <b> Email </b></p> \n            <div class=\"\">\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                id=\"formGroupExampleInput\"\n                placeholder=\"Enter Email\"\n                v-model=\"email\"\n              />\n            </div>\n          </div>\n\n            <div class=\"form-group mt-4 mb-5\" >\n                <!-- <label for=\"formGroupExampleInput2\">Password</label> -->\n                <p class=\"form-label\"> <strong> Password</strong></p> \n                <div class=\"control\">\n                <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"formGroupExampleInput2\"\n                    placeholder=\"Enter Password\"\n                    v-model=\"password\"\n                />\n                </div>\n          </div>\n\n          <!-- warning -->\n          <div class=\"notification is-danger\" v-if=\"errors.length\">\n            <!-- <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p> -->\n            <p>Username or password is not valid </p>\n          </div>\n\n            <button type=\"submit\" class=\"btn btn-success\">Log in</button>\n\n          <hr />\n\n          Or <router-link to=\"/sign-up\">click here</router-link> <b> to Sign Up! </b> \n          \n        </form>\n      </div>\n  </div>\n</template>\n\n\n<script>\nimport axios from 'axios'\nexport default {\n    name: 'LogIn',\n    data() {\n        return {\n            email: '',\n            password: '',\n            errors: []\n        }\n    },\n    mounted() {\n        document.title = 'Log In | GTL'\n    },\n    methods: {\n        async submitForm() {\n            axios.defaults.headers.common[\"Authorization\"] = \"\"\n            localStorage.removeItem(\"token\")\n            const formData = {\n                email: this.email,\n                password: this.password\n            }\n            await axios\n                .post(\"/api/v1/CustomUser/login\", formData)\n                .then(response => {\n                    const token = response.data.auth_token\n                    const userid=response.data.id\n                    console.log(userid,\"token\")\n                    this.$store.commit('setToken', token)\n                    this.$store.commit('setUserId', userid)\n                    \n                    axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token\n                    localStorage.setItem(\"token\", token)\n                    localStorage.setItem(\"userid\", userid)\n                    const toPath = this.$route.query.to || '/cart'\n                    this.$router.push(toPath)\n                })\n                .catch(error => {\n                    if (error.response) {\n                        for (const property in error.response.data) {\n                            this.errors.push(`${property}: ${error.response.data[property]}`)\n                        }\n                    } else {\n                        this.errors.push('Something went wrong. Please try again')\n                        \n                        console.log(JSON.stringify(error))\n                    }\n                })\n        }\n    }\n}\n</script>\n<style scoped>\na{\n    color: blue;\n    font-weight: bolder;\n}\n.form-label {\n  /* display: inline-block;\n  width: 140px; */\n  margin-bottom: 2px;\n  text-align: left;\n  color: blue;\n}\n</style>\nFooter\n","import { render } from \"./login.vue?vue&type=template&id=6f243870&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=6f243870&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/fiaz/Documents/GitHub/gtl-vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6f243870\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_12","type","_createElementBlock","_hoisted_2","_hoisted_4","onSubmit","$options","_hoisted_6","id","placeholder","$data","$event","_hoisted_9","length","_hoisted_13","_hoisted_14","_hoisted_15","_createVNode","_component_router_link","to","_hoisted_19","name","data","email","password","errors","mounted","document","title","methods","async","axios","localStorage","removeItem","formData","this","then","response","token","auth_token","userid","console","log","$store","commit","setItem","toPath","$route","query","$router","push","catch","error","property","JSON","stringify","__exports__","render"],"sourceRoot":""}