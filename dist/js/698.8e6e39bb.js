"use strict";(self["webpackChunkmatic_academy"]=self["webpackChunkmatic_academy"]||[]).push([[698],{698:function(o,s,t){t.r(s),t.d(s,{default:function(){return D}});var e=t(3396),a=t(9242);const r=o=>((0,e.dD)("data-v-6f243870"),o=o(),(0,e.Cn)(),o),n={class:"page-sign-up m-5 row"},l=r((()=>(0,e._)("div",{class:"col-4"},null,-1))),i={class:"col-4 is-offset-4"},c=r((()=>(0,e._)("h1",{class:"heading"},[(0,e._)("b",null," Log in ")],-1))),m={class:"form-group mt-4 mb-5"},u=r((()=>(0,e._)("p",{class:"form-label"},[(0,e._)("b",null," Email ")],-1))),d={class:""},p={class:"form-group mt-4 mb-5"},h=r((()=>(0,e._)("p",{class:"form-label"},[(0,e._)("strong",null," Password")],-1))),f={class:"control"},g={key:0,class:"notification is-danger"},_=r((()=>(0,e._)("p",null,"Username or password is not valid ",-1))),w=[_],b=r((()=>(0,e._)("button",{type:"submit",class:"btn btn-success"},"Log in",-1))),k=r((()=>(0,e._)("hr",null,null,-1))),v=(0,e.Uk)(" Or "),y=(0,e.Uk)("click here"),I=(0,e.Uk)(),U=r((()=>(0,e._)("b",null," to Sign Up! ",-1)));function S(o,s,t,r,_,S){const E=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",n,[l,(0,e._)("div",i,[c,(0,e._)("form",{onSubmit:s[2]||(s[2]=(0,a.iM)(((...o)=>S.submitForm&&S.submitForm(...o)),["prevent"]))},[(0,e._)("div",m,[u,(0,e._)("div",d,[(0,e.wy)((0,e._)("input",{type:"email",class:"form-control",id:"formGroupExampleInput",placeholder:"Enter Email","onUpdate:modelValue":s[0]||(s[0]=o=>_.email=o)},null,512),[[a.nr,_.email]])])]),(0,e._)("div",p,[h,(0,e._)("div",f,[(0,e.wy)((0,e._)("input",{type:"text",class:"form-control",id:"formGroupExampleInput2",placeholder:"Enter Password","onUpdate:modelValue":s[1]||(s[1]=o=>_.password=o)},null,512),[[a.nr,_.password]])])]),_.errors.length?((0,e.wg)(),(0,e.iD)("div",g,w)):(0,e.kq)("",!0),b,k,v,(0,e.Wm)(E,{to:"/sign-up"},{default:(0,e.w5)((()=>[y])),_:1}),I,U],32)])])}var E=t(6265),$=t.n(E),L={name:"LogIn",data(){return{email:"",password:"",errors:[]}},mounted(){document.title="Log In | GTL"},methods:{async submitForm(){$().defaults.headers.common.Authorization="",localStorage.removeItem("token");const o={email:this.email,password:this.password};await $().post("/api/v1/CustomUser/login",o).then((o=>{const s=o.data.auth_token,t=o.data.id;console.log(t,"token"),this.$store.commit("setToken",s),this.$store.commit("setUserId",t),$().defaults.headers.common.Authorization="Token "+s,localStorage.setItem("token",s),localStorage.setItem("userid",t);const e=this.$route.query.to||"/cart";this.$router.push(e)})).catch((o=>{if(o.response)for(const s in o.response.data)this.errors.push(`${s}: ${o.response.data[s]}`);else this.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(o))}))}}},C=t(89);const x=(0,C.Z)(L,[["render",S],["__scopeId","data-v-6f243870"]]);var D=x}}]);
//# sourceMappingURL=698.8e6e39bb.js.map