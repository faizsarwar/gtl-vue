"use strict";(self["webpackChunkmatic_academy"]=self["webpackChunkmatic_academy"]||[]).push([[239],{3860:function(t,e,a){a.d(e,{Z:function(){return D}});var i=a(3396),c=a(7139);const s=t=>((0,i.dD)("data-v-662769ec"),t=t(),(0,i.Cn)(),t),r={key:0,class:"m-0"},o=["href"],n={key:0},l={key:1},u={key:2},d={key:3},m={xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",style:{color:"green"},fill:"currentColor",class:"bi bi-dash",viewBox:"0 0 16 16"},h=s((()=>(0,i._)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"},null,-1))),_=[h],p={xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",style:{color:"green"},fill:"currentColor",class:"bi bi-plus",viewBox:"0 0 16 16"},v=s((()=>(0,i._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"},null,-1))),w=[v];function g(t,e,a,s,h,v){return 0!=h.item.quantity?((0,i.wg)(),(0,i.iD)("tr",r,[(0,i._)("td",null,[(0,i._)("a",{href:"/products/"+h.item.product.id},(0,c.zw)(h.item.product.name),9,o)]),(0,i._)("td",null,(0,c.zw)(h.item.product.size),1),"Consumer"!=h.account_details.account_type&&1==h.account_details.approved?((0,i.wg)(),(0,i.iD)("td",n," $"+(0,c.zw)(h.item.price*h.discount),1)):"Consumer"!=h.account_details.account_type&&0==h.account_details.approved?((0,i.wg)(),(0,i.iD)("td",l," $"+(0,c.zw)(h.item.price),1)):1!=h.discount?((0,i.wg)(),(0,i.iD)("td",u," $"+(0,c.zw)(h.item.price*h.discount),1)):((0,i.wg)(),(0,i.iD)("td",d," $"+(0,c.zw)(h.item.price),1)),(0,i._)("td",null,[(0,i._)("a",{onClick:e[0]||(e[0]=t=>v.decrementQuantity(h.item))},[((0,i.wg)(),(0,i.iD)("svg",m,_))]),(0,i.Uk)(" "+(0,c.zw)(h.item.quantity)+" ",1),(0,i._)("a",{onClick:e[1]||(e[1]=t=>v.incrementQuantity(h.item))},[((0,i.wg)(),(0,i.iD)("svg",p,w))])]),(0,i._)("td",null,"$"+(0,c.zw)(v.getItemTotal(h.item).toFixed(2)),1)])):(0,i.kq)("",!0)}var y=a(6265),C=a.n(y),b={name:"CartItem",props:{initialItem:Object},data(){return{item:this.initialItem,account_details:[],discount:1}},mounted(){this.getAccountDetails()},methods:{getItemTotal(t){return"Consumer"!=this.account_details.account_type&&1==this.account_details.approved?t.quantity*t.price*this.discount:"Consumer"!=this.account_details.account_type&&0==this.account_details.approved?t.quantity*t.price:(this.discount,t.quantity*t.price*this.discount)},decrementQuantity(t){t.quantity-=1,0===t.quantity&&this.$emit("removeFromCart",t),this.updateCart()},incrementQuantity(t){t.quantity+=1,this.updateCart()},updateCart(){localStorage.setItem("cart",JSON.stringify(this.$store.state.cart))},removeFromCart(t){this.$emit("removeFromCart",t),this.updateCart()},getAccountDetails(){C().get(`/api/v1/CustomUser/${localStorage.getItem("userid")}/`).then((t=>{this.account_details=t.data,this.setDiscount()})).catch((t=>{console.log(t)}))},setDiscount(){console.log("hello ",this.account_details.account_type),"Retailer"==this.account_details.account_type?this.discount=.6:"Distributor"==this.account_details.account_type?(console.log("distributor"),this.discount=.4):this.discount=1}}},f=a(89);const k=(0,f.Z)(b,[["render",g],["__scopeId","data-v-662769ec"]]);var D=k},3239:function(t,e,a){a.r(e),a.d(e,{default:function(){return q}});var i=a(3396),c=a(7139);const s=t=>((0,i.dD)("data-v-5d4e9212"),t=t(),(0,i.Cn)(),t),r={class:"page-cart mt-0 mb-0"},o={class:""},n=s((()=>(0,i._)("div",{class:"mt-3 p-3"},[(0,i._)("h1",null,[(0,i._)("b",null," Cart")])],-1))),l={class:"box m-4"},u={key:0,class:"table is-fullwidth"},d=s((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{class:"text-center"},"Product"),(0,i._)("th",{class:"text-center"},"size"),(0,i._)("th",{class:"text-center"},"Price"),(0,i._)("th",{class:"text-center"},"Quantity"),(0,i._)("th",{class:"text-center"},"Total"),(0,i._)("th",{class:"text-center"})])],-1))),m={key:1,class:"m-2"},h={class:"box m-4 p-4",style:{"text-align":"left"}},_=s((()=>(0,i._)("div",{class:"row ml-3"},[(0,i._)("h2",{class:"subtitle mt-3"},[(0,i._)("b",null," Summary")])],-1))),p={class:"ml-5"},v={class:"row"},w=s((()=>(0,i._)("div",{class:"col-2"},[(0,i._)("b",null,"Price ")],-1))),g={class:"col"},y={class:"row"},C=s((()=>(0,i._)("div",{class:"col-2"},[(0,i._)("b",null,"Total Items")],-1))),b={class:"col"},f=s((()=>(0,i._)("div",{class:"row ml-5"},[(0,i._)("a",{href:"/checkout",class:"btn btn btn-success mt-3 mb-3",style:{color:"white"}},"Proceed to checkout")],-1)));function k(t,e,a,s,k,D){const I=(0,i.up)("CartItem");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",o,[n,(0,i._)("div",l,[D.cartTotalLength?((0,i.wg)(),(0,i.iD)("table",u,[d,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(k.cart.items,(t=>((0,i.wg)(),(0,i.j4)(I,{key:t.product.id,initialItem:t,onRemoveFromCart:D.removeFromCart},null,8,["initialItem","onRemoveFromCart"])))),128))])])):((0,i.wg)(),(0,i.iD)("p",m,"You don't have any products in your cart..."))]),(0,i._)("div",h,[_,(0,i._)("div",p,[(0,i._)("div",v,[w,(0,i._)("div",g," $ "+(0,c.zw)(D.cartTotalPrice),1)]),(0,i._)("div",y,[C,(0,i._)("div",b,(0,c.zw)(D.cartTotalLength),1)])]),f])])])}var D=a(3860),I={name:"Cart_",components:{CartItem:D.Z},data(){return{cart:{items:[]},userid:0}},mounted(){this.cart=this.$store.state.cart,this.userid=localStorage.getItem("userid")},methods:{removeFromCart(t){this.cart.items=this.cart.items.filter((e=>e.product.id!==t.product.id))}},computed:{cartTotalLength(){return this.cart.items.reduce(((t,e)=>t+e.quantity),0)},cartTotalPrice(){return this.cart.items.reduce(((t,e)=>t+e.quantity*e.price),0)}}},x=a(89);const z=(0,x.Z)(I,[["render",k],["__scopeId","data-v-5d4e9212"]]);var q=z}}]);
//# sourceMappingURL=239.f9208a5f.js.map