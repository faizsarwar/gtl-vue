{"version":3,"file":"js/695.42747322.js","mappings":"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","sources":["webpack://matic-academy/./src/components/CartItem.vue","webpack://matic-academy/./src/components/CartItem.vue?5faf","webpack://matic-academy/./src/views/checkout.vue","webpack://matic-academy/./src/views/checkout.vue?de89"],"sourcesContent":["<template>\n  <!-- <div v-if=\"item.quantity!=0\"> -->\n\n  <tr v-if=\"item.quantity != 0\" class=\"m-0\">\n    <!-- {{item}} -->\n    <td>\n      <a :href=\"'/products/' + item.product.id\"> {{ item.product.name }}</a>\n    </td>\n    <td>{{ item.product.size }}</td>\n<!--  -->\n              <td v-if=\"account_details.account_type!='Consumer' && account_details.approved==true\" >\n                 ${{ item.price * discount}} \n              </td>\n              <td v-else-if=\"account_details.account_type!='Consumer' && account_details.approved==false\" >\n                 ${{ item.price }}\n              </td>\n              <td v-else-if=\"discount!=1\">\n                  ${{ item.price * discount }}           \n              </td>\n              <td v-else>\n                 ${{ item.price }}                \n    </td>\n<!--  -->\n    <!-- <td>${{ item.price }}</td> -->\n    <td>\n      <a @click=\"decrementQuantity(item)\"\n        ><svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"25\"\n          height=\"25\"\n          style=\"color: green\"\n          fill=\"currentColor\"\n          class=\"bi bi-dash\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path\n            d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"\n          /></svg\n      ></a>\n      {{ item.quantity }}\n      <a @click=\"incrementQuantity(item)\"\n        ><svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"25\"\n          height=\"25\"\n          style=\"color: green\"\n          fill=\"currentColor\"\n          class=\"bi bi-plus\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path\n            d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"\n          /></svg\n      ></a>\n    </td>\n    <td>${{ getItemTotal(item).toFixed(2) }}</td>\n    <!-- <td><button class=\"delete\" @click=\"removeFromCart(item)\"></button>delete</td> -->\n  </tr>\n  <!-- </div> -->\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  name: \"CartItem\",\n  props: {\n    initialItem: Object,\n  },\n  data() {\n    return {\n      item: this.initialItem,\n      account_details:[],\n      discount:1\n    };\n  },\n  mounted(){\n    this.getAccountDetails()\n  },\n  methods: {\n    getItemTotal(item) {\n      if (this.account_details.account_type!='Consumer' && this.account_details.approved==true){\n        return item.quantity * item.price *this.discount;        \n      }\n      else if(this.account_details.account_type!='Consumer' && this.account_details.approved==false) {\n        return item.quantity * item.price ;\n      }\n      else if(this.discount!=1) {\n        return item.quantity * item.price *this.discount ;\n      }\n      else{\n        return item.quantity * item.price *this.discount;\n      }\n    },\n    decrementQuantity(item) {\n      item.quantity -= 1;\n      if (item.quantity === 0) {\n        this.$emit(\"removeFromCart\", item);\n      }\n      this.updateCart();\n    },\n    incrementQuantity(item) {\n      item.quantity += 1;\n      this.updateCart();\n    },\n    updateCart() {\n      localStorage.setItem(\"cart\", JSON.stringify(this.$store.state.cart));\n    },\n    removeFromCart(item) {\n      this.$emit(\"removeFromCart\", item);\n      this.updateCart();\n    },      \n    getAccountDetails(){\n        axios.get(`/api/v1/CustomUser/${localStorage.getItem('userid')}/`)\n          .then(response=>{\n            this.account_details=response.data\n            this.setDiscount()\n          })\n          .catch(error=>{\n              console.log(error)\n          })\n      },\n      setDiscount(){\n        console.log(\"hello \",this.account_details.account_type)\n        if (this.account_details.account_type==\"Retailer\"){\n          this.discount=0.6\n        }\n        else if (this.account_details.account_type==\"Distributor\"){\n          console.log(\"distributor\")\n          this.discount=0.4\n        }\n        else{\n          this.discount=1\n        }\n      }\n  },\n};\n</script>\n\n<style scoped>\na {\n  color: black;\n}\n</style>","import { render } from \"./CartItem.vue?vue&type=template&id=662769ec&scoped=true\"\nimport script from \"./CartItem.vue?vue&type=script&lang=js\"\nexport * from \"./CartItem.vue?vue&type=script&lang=js\"\n\nimport \"./CartItem.vue?vue&type=style&index=0&id=662769ec&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/fiaz/Documents/GitHub/gtl-vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-662769ec\"]])\n\nexport default __exports__","<template>\n    <div class=\"page-checkout p-0 mt-0 mb-0\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h1 class=\"heading\">Checkout</h1>\n            </div>\n            <div class=\"column is-12 box pr-5 pl-5\">\n                <table class=\"table is-fullwidth\" v-if=\"cartTotalLength\">\n                    <thead>\n                        <tr >\n                            <th class=\"text-center\">Product</th>\n                            <th class=\"text-center\">size</th>\n                            <th class=\"text-center\">Price</th>\n                            <th class=\"text-center\">Quantity</th>\n                            <th class=\"text-center\">Total</th>\n                            <th class=\"text-center\"></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <CartItem\n                            v-for=\"item in cart.items\"\n                            v-bind:key=\"item.product.id\"\n                            v-bind:initialItem=\"item\"\n                            v-on:removeFromCart=\"removeFromCart\" />\n                    </tbody>\n            \n                    <tfoot>\n                        <tr>\n                            <td colspan=\"2\"><h4><b> Total </b></h4></td>\n                            <td></td>\n                            <td>{{ cartTotalLength }}</td>\n                            <td>${{ cartTotalPrice.toFixed(2) }}</td>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n\n            <div class=\"column is-12 box pl-5 pr-5 pb-5\">\n                <h2 class=\"heading mt-5\">Shipping details</h2>\n\n                <p class=\"has-text-grey mb-5\">* All fields are required</p>\n            <div class=\"ml-5 mr-5 pl-5 pr-5 mt-4\">\n                <div class=\"form-row pr-5 pl-5\">\n                    <div class=\"form-group col-md-6\">\n                    <p for=\"inputEmail4\" class=\"form-label\">Email</p>\n                    <input type=\"email\" class=\"form-control\" id=\"inputEmail4\" placeholder=\"Email\" v-model=\"email\">\n                    </div>\n                    <div class=\"form-group col-md-6\">\n                    <p for=\"inputPassword4 \" class=\"form-label\">Phone</p>\n                    <input type=\"text\" class=\"form-control\" id=\"inputPassword4\" placeholder=\"Phone Number\" v-model=\"phone\">\n                    </div>\n                </div>\n                    <div class=\"form-row pr-5 pl-5\">\n                    <div class=\"form-group col\" >\n                    <p for=\"inputCity\" class=\"form-label\">First Name</p>\n                    <input type=\"text\" class=\"form-control\" id=\"inputCity\" v-model=\"first_name\">\n                    </div>\n                    <div class=\"form-group col\">\n                    <p for=\"inputCity\" class=\"form-label\">Last Name</p>\n                    <input type=\"text\" class=\"form-control\" id=\"inputCity\" v-model=\"last_name\">\n                    </div>\n                    <div class=\"form-group col\">\n                    <p for=\"inputZip\" class=\"form-label\">Zip</p>\n                    <input type=\"text\" class=\"form-control\" id=\"inputZip\"  v-model=\"zipcode\">\n                    </div>\n                </div>\n                <div class=\"form-group pr-5 pl-5\">\n                    <p for=\"inputAddress\" class=\"form-label\">Address</p>\n                    <input type=\"text\" class=\"form-control\" id=\"inputAddress\" placeholder=\"1234 Main St\" v-model=\"address\">\n                </div>\n                <div class=\"form-group pr-5 pl-5\">\n                    <p for=\"inputAddress2\" class=\"form-label\">Place</p>\n                    <input type=\"text\" class=\"form-control\" id=\"inputAddress2\" placeholder=\"Apartment, studio, or floor\" v-model=\"place\">\n                </div>\n    <!--  -->\n                <div class=\"notification bg-danger mt-4 pr-5 pl-5\" style=\"color: white\" v-if=\"errors.length\">\n                    <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n                </div>\n\n                <hr>\n\n                <div id=\"card-element\" class=\"m-5\"></div>\n                <div v-if=\"cartTotalLength\">\n\n                    <button class=\"btn btn btn-success mt-3 mb-3\" @click=\"submitForm\">Pay with Stripe</button>\n                </div>\n                <!--  -->\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport CartItem from '@/components/CartItem.vue'\n\nexport default {\n    name: 'Checkout_',\n    components: {\n        CartItem,\n    },\n    data() {\n        return {\n            cart: {\n                items: []\n            },\n            stripe: {},\n            card: {},\n            first_name: '',\n            last_name: '',\n            email: '',\n            phone: '',\n            address: '',\n            zipcode: '',\n            place: '',\n            errors: []\n        }\n    },\n    mounted() {\n        document.title = 'Checkout | Anasazi'\n        this.cart = this.$store.state.cart\n        if (this.cartTotalLength > 0) {\n            this.stripe = window.Stripe('pk_test_51KfMtDCo5tQGz5JpkIZmtwCH9xiGit1BV4ONCSTQoDXWApnsZ9VGG59uhPQSZPT0jcQmBCr0cuUF2wxDdwdOffIK00S6Ww2xer')\n            const elements = this.stripe.elements();\n            this.card = elements.create('card', { hidePostalCode: true })\n            this.card.mount('#card-element')\n        }\n    },\n    methods: {\n        getItemTotal(item) {\n            return item.quantity * item.price\n        },\n        submitForm() {\n            this.errors = []\n            if (this.first_name === '') {\n                this.errors.push('The first name field is missing!')\n            }\n            if (this.last_name === '') {\n                this.errors.push('The last name field is missing!')\n            }\n            if (this.email === '') {\n                this.errors.push('The email field is missing!')\n            }\n            if (this.phone === '') {\n                this.errors.push('The phone field is missing!')\n            }\n            if (this.address === '') {\n                this.errors.push('The address field is missing!')\n            }\n            if (this.zipcode === '') {\n                this.errors.push('The zip code field is missing!')\n            }\n            if (this.place === '') {\n                this.errors.push('The place field is missing!')\n            }\n            if (!this.errors.length) {\n                this.$store.commit('setIsLoading', true)\n                this.stripe.createToken(this.card).then(result => {                    \n                    if (result.error) {\n                        this.$store.commit('setIsLoading', false)\n                        this.errors.push('Something went wrong with Stripe. Please try again')\n                        console.log( \"error is this\", result.error.message)\n                    } else {\n                        this.stripeTokenHandler(result.token)\n                    }\n                })\n            }\n        },\n        async stripeTokenHandler(token) {\n            console.log(\"hello\")\n            const items = []\n            for (let i = 0; i < this.cart.items.length; i++) {\n                const item = this.cart.items[i]\n                const obj = {\n                    product: item.product.id,\n                    quantity: item.quantity,\n                    price: item.price * item.quantity\n                }\n                items.push(obj)\n            }\n            const data = {\n                'first_name': this.first_name,\n                'last_name': this.last_name,\n                'email': this.email,\n                'address': this.address,\n                'zipcode': this.zipcode,\n                'place': this.place,\n                'phone': this.phone,\n                'stripe_token': token.id,\n                'items': items,\n            }\n            await axios\n                .post('/api/v1/checkout/', data)\n                .then(response => {\n                    this.$store.commit('clearCart')\n                    this.$router.push('/success')\n                    console.log(response)\n                })\n                .catch(error => {\n                    this.errors.push('Something went wrong. Please try again')\n                    console.log(error, \"err0or 2\")\n                })\n                this.$store.commit('setIsLoading', false)\n        }\n    },\n    computed: {\n        cartTotalPrice() {\n            return this.cart.items.reduce((acc, curVal) => {\n                return acc += curVal.price * curVal.quantity\n            }, 0)\n        },\n        cartTotalLength() {\n            return this.cart.items.reduce((acc, curVal) => {\n                return acc += curVal.quantity\n            }, 0)\n        }\n    }\n}\n</script>\n<style scoped>\n.form-label {\n  margin-bottom: 2px;\n  text-align: left;\n  color: green;\n}\n</style>","import { render } from \"./checkout.vue?vue&type=template&id=6ca4a9d6&scoped=true\"\nimport script from \"./checkout.vue?vue&type=script&lang=js\"\nexport * from \"./checkout.vue?vue&type=script&lang=js\"\n\nimport \"./checkout.vue?vue&type=style&index=0&id=6ca4a9d6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/fiaz/Documents/GitHub/gtl-vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6ca4a9d6\"]])\n\nexport default __exports__"],"names":["class","xmlns","width","height","style","fill","viewBox","_createElementVNode","d","_hoisted_8","_hoisted_11","$data","quantity","_createElementBlock","href","product","id","name","_hoisted_2","_toDisplayString","size","account_type","approved","_hoisted_3","price","_hoisted_4","_hoisted_5","_hoisted_6","onClick","$options","_hoisted_9","_hoisted_12","toFixed","props","initialItem","Object","data","item","this","account_details","discount","mounted","getAccountDetails","methods","getItemTotal","decrementQuantity","$emit","updateCart","incrementQuantity","localStorage","setItem","JSON","stringify","$store","state","cart","removeFromCart","axios","getItem","then","response","setDiscount","catch","error","console","log","__exports__","render","colspan","for","_Fragment","_renderList","items","_createBlock","_component_CartItem","key","onRemoveFromCart","_ctx","_hoisted_7","_hoisted_10","_hoisted_15","type","placeholder","$event","_hoisted_17","_hoisted_20","_hoisted_22","_hoisted_24","_hoisted_26","_hoisted_28","length","_hoisted_30","_hoisted_31","_hoisted_32","components","CartItem","stripe","card","first_name","last_name","email","phone","address","zipcode","place","errors","document","title","cartTotalLength","window","Stripe","elements","create","hidePostalCode","mount","submitForm","push","commit","createToken","result","message","stripeTokenHandler","token","async","i","obj","$router","computed","cartTotalPrice","reduce","acc","curVal"],"sourceRoot":""}