{"ast":null,"code":"import Faqs from '../components/Faqs.vue';\nimport axios from 'axios';\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\nexport default {\n  name: 'HomeView',\n\n  data() {\n    return {\n      allProducts: [],\n      allCategories: [],\n      // filtered products will svave here\n      counter: 0,\n      previousProducts: [],\n      subcategories: {},\n      isLoading: true,\n      fullPage: true,\n      checked: true,\n      bars: \"bars\",\n      color: \"#07ad31\",\n      height: 120,\n      width: 120,\n      account_details: []\n    };\n  },\n\n  components: {\n    // HelloWorld\n    // blogs,\n    // testemonials,\n    // best_seller_slides,\n    Loading,\n    Faqs // Loading\n\n  },\n\n  mounted() {\n    this.getAllProducts();\n    this.getAllCategories();\n    this.getAccountDetails();\n    this.getAllsubCategories();\n  },\n\n  methods: {\n    say(message) {\n      const cb = document.querySelector('#flexCheckDefault' + message);\n\n      if (cb.checked) {\n        for (let i = 0; i < this.allProducts.length; i++) {\n          if (this.allProducts[i]['Sub_category'] == message) {\n            this.previousProducts.push(this.allProducts[i]); // console.log(this.previousProducts)\n          }\n        }\n\n        this.counter += 1;\n      } else {\n        for (let i = 0; i < this.previousProducts.length; i++) {\n          if (this.previousProducts[i]['Sub_category'] == message) {\n            this.previousProducts.splice(i);\n            console.log(\"matched\");\n          }\n        }\n\n        this.counter -= 1; // checking if the counter is 0 then we will display all products\n\n        if (this.counter == 0) {\n          this.previousProducts = this.all;\n        }\n      }\n\n      console.log(this.previousProducts);\n      console.log(cb.checked); // false\n\n      console.log(this.counter);\n    },\n\n    async getAllProducts() {\n      this.$store.commit('setIsLoading', true);\n      axios.get('/api/v1/products/').then(response => {\n        this.allProducts = response.data;\n        console.log(\"data fetched\");\n      }).catch(error => {\n        console.log(error);\n      });\n      this.$store.commit('setIsLoading', false);\n    },\n\n    getAllCategories() {\n      axios.get('/api/v1/category/').then(response => {\n        this.allCategories = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    // SubcategoryFromCategory/\n    getAllsubCategories() {\n      axios.get('/api/v1/SubcategoryFromCategory/').then(response => {\n        this.subcategories = response.data;\n        this.isLoading = false;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    getAccountDetails() {\n      axios.get(`/api/v1/CustomUser/${localStorage.getItem('userid')}/`).then(response => {\n        this.account_details = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["Faqs","axios","Loading","name","data","allProducts","allCategories","counter","previousProducts","subcategories","isLoading","fullPage","checked","bars","color","height","width","account_details","components","mounted","getAllProducts","getAllCategories","getAccountDetails","getAllsubCategories","methods","say","message","cb","document","querySelector","i","length","push","splice","console","log","all","$store","commit","get","then","response","catch","error","localStorage","getItem"],"sourceRoot":"","sources":["/home/fiaz/Documents/GitHub/gtl-vue/src/views/shop-all.vue"],"sourcesContent":["<template>\n    <section class=\"\" style=\"overflow-x:hidden\">\n        <div style=\"text-align: center;\" class=\"m-5\">\n            <h1 style=\"font-family: fantasy;\" class=\"heading\"> Order Now </h1>\n            {{this.allProducts}}\n            <div class=\"row\">\n              {{this.subcategories}}\n            </div>\n\n        </div>\n                <!-- Loader  -->\n                <loading v-model:active=\"isLoading\"\n                 :loader=\"bars\"\n                 :width=\"width\"\n                 :height=\"height\"\n                 :color=\"color\"\n                 :can-cancel=\"true\"\n                 :is-full-page=\"fullPage\"/>\n\n        <!-- container -->\n        <div class=\"ml-3\">\n            <div class=\"row\">\n                <div class=\"col-2 mr-3\" style=\"text-align: left;\">\n                    <h4 style=\"font-family: fantasy;\" class=\"heading \"> Category </h4>\n                    <ul class=\"categories\" style=\"font-family: Impact, Haettenschweiler, sans-serif;\">\n                        <!-- list of Categories -->\n                        <li class='mt-2' v-for=\"item in this.allCategories\" :key=\"item.id\">\n                            <router-link :to=\" item.name_without_space \" > {{item.title}} </router-link>\n                            <div class=\"form-check\" v-for=\"subcategory in this.subcategories[item.title]\" :key=\"subcategory.id\">\n                              <input type=\"checkbox\" value=\"\" @click=\"say(subcategory.id)\"  :id=\"'flexCheckDefault'+ subcategory.id\">\n                              <label class=\"form-check-label ml-5\" for=\"checkbox\">\n                                {{subcategory.title}}\n                              </label>   \n                            </div>\n                        </li>\n\n                    </ul>\n                </div>\n                \n                <div class=\"col-8 ml-3\">\n\n                  <div v-if=\"!this.allProducts.length \">\n                    <h1 class=\"heading m-5\">Sorry we are updating our website </h1>\n                    <p class=\"m-5\"><strong>PLEASE Call Toll- Free 1 (833) ANASAZI to place an order.</strong></p>\n                  </div>\n                  <div v-else>\n                    <!-- Row -->\n                    <div class=\"row\">\n                        <!-- Card -->\n                        <div class=\"card m-2 \" style=\"width: 28rem;\" v-for=\"item in this.allProducts\" :key=\"item.id\">\n                            <img :src= item.get_image  class=\"card-image\" alt=\"...\">\n                            <div class=\"card-body\">\n                                <h5 class=\"card-title\"><b> {{item.name}}</b></h5>\n                                <p class=\"card-text\">{{item.priceRange}}</p>\n                                <a :href=\"'/products/' + item.id \" class=\"btn btn btn-success\">Quick view</a>\n                            </div>\n                        </div>\n\n\n                        <!--  -->\n              \n              <!--  -->\n                    </div>\n                  </div>\n                </div>\n                \n            </div>\n        </div>\n\n        <!--  Faqs-->\n        <Faqs/>\n\n    </section>\n\n\n</template>\n\n\n\n<script>\nimport Faqs from '../components/Faqs.vue'\nimport axios from 'axios'\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\nexport default {\n  name: 'HomeView',\n  data(){\n      return {\n          allProducts:[],\n          allCategories:[],\n          // filtered products will svave here\n          counter:0,\n          previousProducts:[],\n          subcategories:{},\n          isLoading: true,\n          fullPage: true,\n          checked: true,\n          bars: \"bars\",\n          color:\"#07ad31\",\n          height: 120,\n          width: 120,\n          account_details:[]\n      }\n  },\n  components: {\n    // HelloWorld\n    // blogs,\n    // testemonials,\n    // best_seller_slides,\n    Loading,\n    Faqs,\n    // Loading\n  },\n  mounted(){\n    this.getAllProducts()\n    this.getAllCategories()\n    this.getAccountDetails()\n    this.getAllsubCategories()\n  },\n  methods: {\n      say(message) {\n        const cb = document.querySelector('#flexCheckDefault'+ message);\n        if (cb.checked){\n          for (let i = 0; i < this.allProducts.length; i++) {\n            if (this.allProducts[i]['Sub_category'] == message){\n              this.previousProducts.push(this.allProducts[i])\n              // console.log(this.previousProducts)\n            }\n          }\n          this.counter+=1\n        }\n        else{\n          for (let i = 0; i < this.previousProducts.length; i++) {\n            if (this.previousProducts[i]['Sub_category'] == message){\n              this.previousProducts.splice(i)\n              console.log(\"matched\")\n            }\n          }    \n          this.counter-=1    \n          // checking if the counter is 0 then we will display all products\n          if (this.counter==0){\n            this.previousProducts=this.all\n          } \n        }\n        console.log(this.previousProducts)\n        console.log(cb.checked); // false\n        console.log(this.counter)\n      },\n      async getAllProducts() {\n          this.$store.commit('setIsLoading', true)\n          axios.get('/api/v1/products/')\n          .then(response=>{\n            this.allProducts=response.data\n            console.log(\"data fetched\")\n          })\n          .catch(error=>{\n              console.log(error)\n          })\n          this.$store.commit('setIsLoading', false)\n      },\n      getAllCategories() {\n        axios.get('/api/v1/category/')\n          .then(response=>{\n            this.allCategories=response.data;\n            \n          })\n          .catch(error=>{\n              console.log(error)\n          })\n      },\n      // SubcategoryFromCategory/\n      getAllsubCategories() {\n        axios.get('/api/v1/SubcategoryFromCategory/')\n          .then(response=>{\n            this.subcategories=response.data;\n            this.isLoading=false            \n          })\n          .catch(error=>{\n              console.log(error)\n          })\n      },\n      getAccountDetails(){\n        axios.get(`/api/v1/CustomUser/${localStorage.getItem('userid')}/`)\n          .then(response=>{\n            this.account_details=response.data;\n            \n          })\n          .catch(error=>{\n              console.log(error)\n          })\n      }\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module"}