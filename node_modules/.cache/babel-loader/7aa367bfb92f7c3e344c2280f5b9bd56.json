{"ast":null,"code":"// import blogs from '../components/blogs.vue'\n// import testemonials from '../components/testemonials.vue'\n// import best_seller_slides from '../components/best-seller-slides.vue'\nimport Faqs from '../components/Faqs.vue';\nimport axios from 'axios';\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css'; // @ is an alias to /src\n// import HelloWorld from '@/components/HelloWorld.vue'\n// import HelloWorld from '@/components/blogs.vue'\n\nexport default {\n  name: 'HomeView',\n\n  data() {\n    return {\n      allProducts: [],\n      allCategories: [],\n      // filtered products will svave here\n      counter: 0,\n      previousProducts: [],\n      subcategories: {},\n      isLoading: true,\n      fullPage: true,\n      checked: true,\n      bars: \"bars\",\n      color: \"#07ad31\",\n      height: 120,\n      width: 120,\n      account_details: [],\n      category: this.$route.params.category\n    };\n  },\n\n  components: {\n    Faqs,\n    Loading\n  },\n\n  mounted() {\n    this.getAllProducts();\n    this.getAllCategories();\n    this.getAllsubCategories();\n  },\n\n  methods: {\n    say(message) {\n      const cb = document.querySelector('#flexCheckDefault' + message);\n\n      if (cb.checked) {\n        // checking if counter is 0 (means it is hit for the fiurst time) so we have to clear the array to store filtered results \n        if (this.counter == 0) {\n          this.previousProducts = [];\n        }\n\n        for (let i = 0; i < this.allProducts.length; i++) {\n          if (this.allProducts[i]['Sub_category'] == message) {\n            this.previousProducts.push(this.allProducts[i]); // console.log(this.previousProducts)\n          }\n        }\n\n        this.counter += 1;\n      } else {\n        for (let i = 0; i < this.previousProducts.length; i++) {\n          if (this.previousProducts[i]['Sub_category'] == message) {\n            this.previousProducts.splice(i);\n            console.log(\"matched\");\n          }\n        }\n\n        this.counter -= 1; // checking if the counter is 0 then we will display all products\n\n        if (this.counter == 0) {\n          this.previousProducts = this.allProducts;\n        }\n      }\n    },\n\n    getAllProducts() {\n      axios.get('/api/v1/productscategory/' + this.category).then(response => {\n        this.allProducts = response.data; // at initial we will show all products\n\n        this.previousProducts = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    getAllCategories() {\n      axios.get('/api/v1/category/').then(response => {\n        this.allCategories = response.data;\n        this.isLoading = false;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    // SubcategoryFromCategory/\n    getAllsubCategories() {\n      axios.get('/api/v1/SubcategoryFromCategory/').then(response => {\n        this.subcategories = response.data;\n        this.isLoading = false;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["Faqs","axios","Loading","name","data","allProducts","allCategories","counter","previousProducts","subcategories","isLoading","fullPage","checked","bars","color","height","width","account_details","category","$route","params","components","mounted","getAllProducts","getAllCategories","getAllsubCategories","methods","say","message","cb","document","querySelector","i","length","push","splice","console","log","get","then","response","catch","error"],"sourceRoot":"","sources":["/home/fiaz/Documents/GitHub/gtl-vue/src/views/category.vue"],"sourcesContent":["<template>\n    <section class=\"\">\n        <div style=\"text-align: center;\" class=\"m-5\">\n            <h1 style=\"font-family: fantasy;\" class=\"heading\"> Order now </h1>\n        </div>\n                <!-- Loader  -->\n                <loading v-model:active=\"isLoading\"\n                 :loader=\"bars\"\n                 :width=\"width\"\n                 :height=\"height\"\n                 :color=\"color\"\n                 :can-cancel=\"true\"\n                 :is-full-page=\"fullPage\"/>\n\n                     <div class=\"row pl-5 pr-5\">\n      <!-- <div class=\"mr-auto\">\n        <h1 class=\"ml-3\"><b style=\"color:#07ad31\"> Top Deals Today </b></h1>\n      </div> -->\n      <div class=\"ml-auto\">\n      <a href=\"/shop-all\">\n        <h3 class=\"mr-5\"><b style=\"color:#07ad31\"> Shop More <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#07ad31\" class=\"bi bi-caret-right-fill\" viewBox=\"0 0 16 16\">\n  <path d=\"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\"/>\n</svg></b></h3>\n</a>\n      </div>\n    </div>\n\n        <!-- container -->\n        <div class=\"ml-3\">\n            <div class=\"row\">\n                \n                <div class=\"col-3 w3-monospace \" style=\"text-align: left;\">\n                    <h4 style=\"font-family: fantasy;\" class=\"heading \"> Category </h4>\n                    <ul class=\"categories\" style=\"font-family: Impact, Haettenschweiler, sans-serif;\">\n                        <!-- list of Categories -->\n                        <li class='mt-2' v-for=\"item in this.allCategories\" :key=\"item.id\">\n                          <div v-if=\" item.name_without_space == this.category\">\n                            <a :href=\"'/categories/' + item.name_without_space \" class=\"ml-3 mb-5\"> {{item.title}} </a>\n                            <div class=\"form-check \" v-for=\"subcategory in this.subcategories[item.title]\" :key=\"subcategory.id\">\n                              <input type=\"checkbox\" value=\"\" @click=\"say(subcategory.id)\"  :id=\"'flexCheckDefault'+ subcategory.id\">\n                              <label class=\"form-check-label ml-5\" for=\"checkbox\">\n                                {{subcategory.title}}\n                              </label>   \n                            </div>\n                          </div>\n                        </li>\n\n                    </ul>\n\n                </div>\n\n                <div class=\"col-9 \">\n                  <div v-if=\"!this.previousProducts.length \">\n                    <h1 class=\"heading m-5\">Sorry no Products are available now </h1>\n                    <p class=\"m-5\"><strong>PLEASE Call  (952) 405-8181  to place an order.</strong></p>\n                  </div>\n                  <div v-else>\n                    <!-- Row -->\n                    <div class=\"row\">\n                        <!-- Card -->\n                        <div class=\"card  ml-5 mr-5 mt-4 mb-4\" style=\"width: 28rem;\" v-for=\"item in this.previousProducts\" :key=\"item.id\">\n                            <img :src= item.get_image  class=\"card-image\" alt=\"...\">\n                            <div class=\"card-body\">\n                                <h5 class=\"card-title\"><b> {{item.name}}</b></h5>\n                                <p class=\"card-text\">{{item.priceRange}}</p>\n                                <a :href=\"'/products/' + item.id \" class=\"btn btn btn-success\">Quick view</a>\n                            </div>\n                        </div>\n                    </div>\n                  </div>\n                </div>\n\n            </div>\n        </div>\n\n        <!--  Faqs-->\n        <Faqs/>\n\n         <best_seller_slides/>\n\n\n    </section>\n\n\n</template>\n\n\n\n<script>\n// import blogs from '../components/blogs.vue'\n// import testemonials from '../components/testemonials.vue'\n// import best_seller_slides from '../components/best-seller-slides.vue'\nimport Faqs from '../components/Faqs.vue'\nimport axios from 'axios'\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\n// @ is an alias to /src\n// import HelloWorld from '@/components/HelloWorld.vue'\n// import HelloWorld from '@/components/blogs.vue'\nexport default {\n  name: 'HomeView',\n  data(){\n      return {\n          allProducts:[],\n          allCategories:[],\n          // filtered products will svave here\n          counter:0,\n          previousProducts:[],\n          subcategories:{},\n          isLoading: true,\n          fullPage: true,\n          checked: true,\n          bars: \"bars\",\n          color:\"#07ad31\",\n          height: 120,\n          width: 120,\n          account_details:[],\n          category: this.$route.params.category\n      }\n  },\n  components: {\n    Faqs,\n    Loading\n  },\n  mounted(){\n    this.getAllProducts()\n    this.getAllCategories()\n    this.getAllsubCategories()\n  },\n  methods: {\n      say(message) {\n        const cb = document.querySelector('#flexCheckDefault'+ message);\n        if (cb.checked){\n          // checking if counter is 0 (means it is hit for the fiurst time) so we have to clear the array to store filtered results \n          if (this.counter==0){\n            this.previousProducts=[]\n          }\n          for (let i = 0; i < this.allProducts.length; i++) {\n            if (this.allProducts[i]['Sub_category'] == message){\n              this.previousProducts.push(this.allProducts[i])\n              // console.log(this.previousProducts)\n            }\n          }\n          this.counter+=1\n        }\n        else{\n\n          for (let i = 0; i < this.previousProducts.length; i++) {\n            if (this.previousProducts[i]['Sub_category'] == message){\n              this.previousProducts.splice(i)\n              console.log(\"matched\")\n            }\n          }    \n          this.counter-=1    \n          // checking if the counter is 0 then we will display all products\n          if (this.counter==0){\n            this.previousProducts=this.allProducts\n          } \n\n        }\n      },\n      getAllProducts() {\n          axios.get('/api/v1/productscategory/' + this.category)\n          .then(response=>{\n            this.allProducts=response.data\n            // at initial we will show all products\n            this.previousProducts=response.data\n          })\n          .catch(error=>{\n              console.log(error)\n          })\n      },\n      getAllCategories() {\n        axios.get('/api/v1/category/')\n          .then(response=>{\n            this.allCategories=response.data\n             this.isLoading=false    \n          })\n          .catch(error=>{\n              console.log(error)\n          })\n      },\n      // SubcategoryFromCategory/\n      getAllsubCategories() {\n        axios.get('/api/v1/SubcategoryFromCategory/')\n          .then(response=>{\n            this.subcategories=response.data;\n            this.isLoading=false            \n          })\n          .catch(error=>{\n              console.log(error)\n          })\n      },\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}