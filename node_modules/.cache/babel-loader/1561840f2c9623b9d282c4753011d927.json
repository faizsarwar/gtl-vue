{"ast":null,"code":"// import blogs from \"../components/blogs.vue\";\nimport Faqs from \"../components/Faqs.vue\";\nimport axios from \"axios\"; // import best_seller_slides from \"../components/best-seller-slides.vue\";\n// import testemonials from '../components/testemonials.vue'\n// import best_seller_slides from '../components/best-seller-slides.vue'\n// @ is an alias to /src\n// import HelloWorld from '@/components/HelloWorld.vue'\n// import HelloWorld from '@/components/blogs.vue'\n// import { notify } from \"notiwind\";\n// import VueNumberInput from \"@chenfengyuan/vue-number-input\";\n// ES6 Modules or TypeScript\n// import Loading from \"vue-loading-overlay\";\n// import \"vue-loading-overlay/dist/vue-loading.css\";\n\nimport Swal from \"sweetalert2\"; // CommonJS\n// const Swal = require('sweetalert2')\n\nexport default {\n  name: \"Product-\",\n\n  data() {\n    return {\n      product: {},\n      allVariations: [],\n      id: this.$route.params.productId,\n      dismissSecs: 5,\n      dismissCountDown: 0,\n      quantity: 1,\n      showDismissibleAlert: false,\n      item_price: 0,\n      isLoading: true,\n      account_details: [],\n      discount: 1\n    };\n  },\n\n  components: {\n    // blogs,\n    Faqs // best_seller_slides,\n    // notify,\n    // VueNumberInput,\n    // Loading,\n\n  },\n\n  mounted() {\n    this.getProduct();\n    this.getProductVariations();\n    this.getAccountDetails(); // this.setDiscount()\n  },\n\n  methods: {\n    async getProduct() {\n      this.$store.commit(\"setIsLoading\", true);\n      await axios.get(\"/api/v1/products/\" + this.id).then(response => {\n        this.product = response.data[0];\n      }).catch(error => {\n        console.log(error);\n      });\n      this.$store.commit(\"setIsLoading\", false);\n    },\n\n    //product-variations/\n    getProductVariations() {\n      axios.get(\"/api/v1/product-variations/\" + this.id).then(response => {\n        this.allVariations = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n      this.isLoading = false;\n    },\n\n    getKeyByValue(object, value) {\n      return Object.keys(object).find(key => object[key] === value);\n    },\n\n    addToCart() {\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const item = {\n        product: this.product,\n        quantity: this.quantity,\n        price: this.item_price.price,\n        category: this.allVariations[this.getKeyByValue(this.allVariations, this.item_price)].size\n      };\n      this.$store.commit(\"addToCart\", item);\n      Swal.fire({\n        position: \"top-end\",\n        icon: \"success\",\n        title: \"Item Added To Cart\",\n        showConfirmButton: false,\n        timer: 1500\n      });\n    },\n\n    getAccountDetails() {\n      axios.get(`/api/v1/CustomUser/${localStorage.getItem(\"userid\")}/`).then(response => {\n        this.account_details = response.data;\n        this.setDiscount();\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    setDiscount() {\n      console.log(\"hello \", this.account_details.account_type);\n\n      if (this.account_details.account_type == \"Retailer\") {\n        this.discount = 0.6;\n      } else if (this.account_details.account_type == \"Distributor\") {\n        console.log(\"distributor\");\n        this.discount = 0.4;\n      } else {\n        this.discount = 1;\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA8MA;AACA,OAAOA,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAOC,IAAP,MAAiB,aAAjB,C,CACA;AACA;;AACA,eAAe;EACbC,IAAI,EAAE,UADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,OAAO,EAAE,EADJ;MAELC,aAAa,EAAE,EAFV;MAGLC,EAAE,EAAE,KAAKC,MAAL,CAAYC,MAAZ,CAAmBC,SAHlB;MAILC,WAAW,EAAE,CAJR;MAKLC,gBAAgB,EAAE,CALb;MAMLC,QAAQ,EAAE,CANL;MAOLC,oBAAoB,EAAE,KAPjB;MAQLC,UAAU,EAAE,CARP;MASLC,SAAS,EAAE,IATN;MAULC,eAAe,EAAE,EAVZ;MAWLC,QAAQ,EAAE;IAXL,CAAP;EAaD,CAhBY;;EAiBbC,UAAU,EAAE;IACV;IACAnB,IAFU,CAGV;IACA;IACA;IACA;;EANU,CAjBC;;EAyBboB,OAAO,GAAG;IACR,KAAKC,UAAL;IACA,KAAKC,oBAAL;IACA,KAAKC,iBAAL,GAHQ,CAIR;EACD,CA9BY;;EA+BbC,OAAO,EAAE;IACP,MAAMH,UAAN,GAAmB;MACjB,KAAKI,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;MACA,MAAMzB,KAAI,CACP0B,GADG,CACC,sBAAsB,KAAKpB,EAD5B,EAEHqB,IAFG,CAEGC,QAAD,IAAc;QAClB,KAAKxB,OAAL,GAAewB,QAAQ,CAACzB,IAAT,CAAc,CAAd,CAAf;MACD,CAJG,EAKH0B,KALG,CAKIC,KAAD,IAAW;QAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CAPG,CAAN;MAQA,KAAKN,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;IACD,CAZM;;IAYJ;IACHJ,oBAAoB,GAAG;MACrBrB,KAAI,CACD0B,GADH,CACO,gCAAgC,KAAKpB,EAD5C,EAEGqB,IAFH,CAESC,QAAD,IAAc;QAClB,KAAKvB,aAAL,GAAqBuB,QAAQ,CAACzB,IAA9B;MACD,CAJH,EAKG0B,KALH,CAKUC,KAAD,IAAW;QAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CAPH;MAQA,KAAKf,SAAL,GAAiB,KAAjB;IACD,CAvBM;;IAwBPkB,aAAa,CAACC,MAAD,EAASC,KAAT,EAAgB;MAC3B,OAAOC,MAAM,CAACC,IAAP,CAAYH,MAAZ,EAAoBI,IAApB,CAA0BC,GAAD,IAASL,MAAM,CAACK,GAAD,CAAN,KAAgBJ,KAAlD,CAAP;IACD,CA1BM;;IA2BPK,SAAS,GAAG;MACV,IAAIC,KAAK,CAAC,KAAK7B,QAAN,CAAL,IAAwB,KAAKA,QAAL,GAAgB,CAA5C,EAA+C;QAC7C,KAAKA,QAAL,GAAgB,CAAhB;MACF;;MACA,MAAM8B,IAAG,GAAI;QACXtC,OAAO,EAAE,KAAKA,OADH;QAEXQ,QAAQ,EAAE,KAAKA,QAFJ;QAGX+B,KAAK,EAAE,KAAK7B,UAAL,CAAgB6B,KAHZ;QAIXC,QAAQ,EACN,KAAKvC,aAAL,CACE,KAAK4B,aAAL,CAAmB,KAAK5B,aAAxB,EAAuC,KAAKS,UAA5C,CADF,EAEE+B;MAPO,CAAb;MASA,KAAKrB,MAAL,CAAYC,MAAZ,CAAmB,WAAnB,EAAgCiB,IAAhC;MACAzC,IAAI,CAAC6C,IAAL,CAAU;QACRC,QAAQ,EAAE,SADF;QAERC,IAAI,EAAE,SAFE;QAGRC,KAAK,EAAE,oBAHC;QAIRC,iBAAiB,EAAE,KAJX;QAKRC,KAAK,EAAE;MALC,CAAV;IAOD,CAhDM;;IAiDP7B,iBAAiB,GAAG;MAClBtB,KAAI,CACD0B,GADH,CACQ,sBAAqB0B,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+B,GAD5D,EAEG1B,IAFH,CAESC,QAAD,IAAc;QAClB,KAAKZ,eAAL,GAAuBY,QAAQ,CAACzB,IAAhC;QACA,KAAKmD,WAAL;MACD,CALH,EAMGzB,KANH,CAMUC,KAAD,IAAW;QAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CARH;IASD,CA3DM;;IA4DPwB,WAAW,GAAG;MACZvB,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB,KAAKhB,eAAL,CAAqBuC,YAA3C;;MACA,IAAI,KAAKvC,eAAL,CAAqBuC,YAArB,IAAqC,UAAzC,EAAqD;QACnD,KAAKtC,QAAL,GAAgB,GAAhB;MACF,CAFA,MAEO,IAAI,KAAKD,eAAL,CAAqBuC,YAArB,IAAqC,aAAzC,EAAwD;QAC7DxB,OAAO,CAACC,GAAR,CAAY,aAAZ;QACA,KAAKf,QAAL,GAAgB,GAAhB;MACF,CAHO,MAGA;QACL,KAAKA,QAAL,GAAgB,CAAhB;MACF;IACD;;EAtEM;AA/BI,CAAf","names":["Faqs","axios","Swal","name","data","product","allVariations","id","$route","params","productId","dismissSecs","dismissCountDown","quantity","showDismissibleAlert","item_price","isLoading","account_details","discount","components","mounted","getProduct","getProductVariations","getAccountDetails","methods","$store","commit","get","then","response","catch","error","console","log","getKeyByValue","object","value","Object","keys","find","key","addToCart","isNaN","item","price","category","size","fire","position","icon","title","showConfirmButton","timer","localStorage","getItem","setDiscount","account_type"],"sourceRoot":"","sources":["/home/fiaz/Documents/GitHub/gtl-vue/src/views/product.vue"],"sourcesContent":["<template>\n  <div class=\"about mb-3\">\n    <div>\n      <h1 class=\"m-5\">\n        <strong> {{ product.name }} </strong>\n      </h1>\n      <loading\n        :active=\"isLoading\"\n        :can-cancel=\"true\"\n        :on-cancel=\"onCancel\"\n        :is-full-page=\"true\"\n      />\n\n    \n      <div class=\"row m-5\">\n\n        <div class=\"col-lg\">\n          <figure class=\"mb-6\" style=\"\">\n            <img\n              class=\"product-img\"\n              v-bind:src=\"product.get_image\"\n              style=\"\n                    background-size:contain;  \n                    background-repeat: no-repeat; text-align: center;\n                overflow-y: 'hidden';\n              \"\n            />\n            <!-- <img v-bind:src=\"product.get_image\" alt=\"\" width=\"100%\" style=\"background-size:contain;  background-repeat: no-repeat; text-align: center;\"> -->\n          </figure>\n\n        </div>\n        <div class=\"col-lg text-left\">\n                    <div class=\"ml-4\">\n            <h2 class=\"heading mt-5\"><strong> Product Details</strong></h2>\n\n            <div  class=\"m-4\">\n                <div style=\"display:inline-block\">\n                <h3 > <strong> Price :</strong></h3>\n                </div>\n                <div style=\"display:inline-block\" class=\"ml-4\">\n                <h4 >$ {{ product.price }} </h4>\n                 \n                </div>\n            </div>\n\n\n            <div  class=\"m-4\">\n                <div style=\"display:inline-block\">\n                <h3 > <strong> Description :</strong></h3>\n                </div>\n                <div style=\"display:inline-block\" class=\"ml-4\">\n                <h4 >{{ product.description }} </h4>\n                 \n                </div>\n            </div>\n\n\n            <div  class=\"m-4\">\n                <div style=\"display:inline-block\">\n                <h3 > <strong> Gift Wrapping : </strong></h3>\n                </div>\n                <div style=\"display:inline-block\" class=\"ml-4\">\n                <h4 >{{ product.giftWrapping }} </h4>\n                 \n                </div>\n            </div>\n\n\n            <div  class=\"m-4\">\n                <div style=\"display:inline-block\">\n                <h3 > <strong> Size : </strong></h3>\n                </div>\n                <div style=\"display:inline-block\" class=\"ml-4\">\n                <h4> {{product.size}} </h4>\n                 \n                </div>\n            </div>\n\n\n            <!-- {{this.allVariations}}   -->\n            <div class=\"m-4\">\n\n              <b>Size</b>\n              {{product.size}}\n              \n              <div class=\"mt-3\" v-if=\"this.item_price.price\">\n                <div\n                  v-if=\"\n                    account_details.account_type != 'Consumer' &&\n                    account_details.approved == true\n                  \"\n                >\n                  <strike\n                    ><b>\n                      <span\n                        >Price: ${{\n                          parseInt(this.item_price.price) * this.quantity\n                        }}\n                      </span>\n                    </b>\n                  </strike>\n                  <br />\n                  <span>\n                    Discounted Price: ${{\n                      parseInt(this.item_price.price) *\n                      this.quantity *\n                      this.discount\n                    }}\n                  </span>\n                </div>\n                <div\n                  v-else-if=\"\n                    account_details.account_type != 'Consumer' &&\n                    account_details.approved == false\n                  \"\n                >\n                  <b>\n                    <span\n                      >Price: ${{\n                        parseInt(this.item_price.price) * this.quantity\n                      }}\n                    </span>\n                  </b>\n                </div>\n                <div v-else-if=\"discount != 1\">\n                  <strike\n                    ><b>\n                      <span\n                        >Price: ${{\n                          parseInt(this.item_price.price) * this.quantity\n                        }}\n                      </span>\n                    </b>\n                  </strike>\n                  <br />\n                  <span>\n                    Discounted Price: ${{\n                      parseInt(this.item_price.price) *\n                      this.quantity *\n                      this.discount\n                    }}\n                  </span>\n                </div>\n                <div v-else>\n                  <span\n                    >Price: ${{\n                      parseInt(this.item_price.price) * this.quantity\n                    }}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <!-- {{this.product}} -->\n\n            <div class=\"field has-addons mt-6\">\n              <div class=\"control\" style=\"width: 70%\">\n                <!-- <input type=\"number\" class=\"input\" min=\"1\" v-model=\"quantity\"> -->\n                <vue-number-input\n                  controls\n                  class=\"input\"\n                  min=\"1\"\n                  v-model=\"quantity\"\n                ></vue-number-input>\n              </div>\n              <div class=\"control ml-5\">\n                <a\n                  class=\"button btn btn-success mr-3 mt-3 mb-3 ml-5\"\n                  style=\"color: white\"\n                  @click=\"addToCart()\"\n                  >Add to cart</a\n                >\n                <a\n                  class=\"btn btn-success mr-3 mt-3 mb-3\"\n                  href=\"/cart\"\n                  style=\"color: white\"\n                  >View cart</a\n                >\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n\n        <div class=\"row ml-5 mr-5\" style=\"text-align: left\">\n          <p class=\"m-3 mt-5 pl-5 pr-5\">{{ product.description2 }}</p>\n        </div>\n\n        <!-- best seller slides -->\n        <!-- <best_seller_slides /> -->\n        <Faqs />\n    </div>\n  </div>\n</template>\n\n<style>\np{\n  color:black;\n}\n\n</style>\n\n\n<script>\n// import blogs from \"../components/blogs.vue\";\nimport Faqs from \"../components/Faqs.vue\";\nimport axios from \"axios\";\n// import best_seller_slides from \"../components/best-seller-slides.vue\";\n// import testemonials from '../components/testemonials.vue'\n// import best_seller_slides from '../components/best-seller-slides.vue'\n// @ is an alias to /src\n// import HelloWorld from '@/components/HelloWorld.vue'\n// import HelloWorld from '@/components/blogs.vue'\n// import { notify } from \"notiwind\";\n// import VueNumberInput from \"@chenfengyuan/vue-number-input\";\n// ES6 Modules or TypeScript\n// import Loading from \"vue-loading-overlay\";\n// import \"vue-loading-overlay/dist/vue-loading.css\";\nimport Swal from \"sweetalert2\";\n// CommonJS\n// const Swal = require('sweetalert2')\nexport default {\n  name: \"Product-\",\n  data() {\n    return {\n      product: {},\n      allVariations: [],\n      id: this.$route.params.productId,\n      dismissSecs: 5,\n      dismissCountDown: 0,\n      quantity: 1,\n      showDismissibleAlert: false,\n      item_price: 0,\n      isLoading: true,\n      account_details: [],\n      discount: 1,\n    };\n  },\n  components: {\n    // blogs,\n    Faqs,\n    // best_seller_slides,\n    // notify,\n    // VueNumberInput,\n    // Loading,\n  },\n  mounted() {\n    this.getProduct();\n    this.getProductVariations();\n    this.getAccountDetails();\n    // this.setDiscount()\n  },\n  methods: {\n    async getProduct() {\n      this.$store.commit(\"setIsLoading\", true);\n      await axios\n        .get(\"/api/v1/products/\" + this.id)\n        .then((response) => {\n          this.product = response.data[0];\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      this.$store.commit(\"setIsLoading\", false);\n    }, //product-variations/\n    getProductVariations() {\n      axios\n        .get(\"/api/v1/product-variations/\" + this.id)\n        .then((response) => {\n          this.allVariations = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      this.isLoading = false;\n    },\n    getKeyByValue(object, value) {\n      return Object.keys(object).find((key) => object[key] === value);\n    },\n    addToCart() {\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n      const item = {\n        product: this.product,\n        quantity: this.quantity,\n        price: this.item_price.price,\n        category:\n          this.allVariations[\n            this.getKeyByValue(this.allVariations, this.item_price)\n          ].size,\n      };\n      this.$store.commit(\"addToCart\", item);\n      Swal.fire({\n        position: \"top-end\",\n        icon: \"success\",\n        title: \"Item Added To Cart\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n    },\n    getAccountDetails() {\n      axios\n        .get(`/api/v1/CustomUser/${localStorage.getItem(\"userid\")}/`)\n        .then((response) => {\n          this.account_details = response.data;\n          this.setDiscount();\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    setDiscount() {\n      console.log(\"hello \", this.account_details.account_type);\n      if (this.account_details.account_type == \"Retailer\") {\n        this.discount = 0.6;\n      } else if (this.account_details.account_type == \"Distributor\") {\n        console.log(\"distributor\");\n        this.discount = 0.4;\n      } else {\n        this.discount = 1;\n      }\n    },\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}