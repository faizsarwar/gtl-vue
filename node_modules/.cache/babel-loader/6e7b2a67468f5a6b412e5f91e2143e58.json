{"ast":null,"code":"import { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    cart: {\n      items: []\n    },\n    isAuthenticated: false,\n    token: '',\n    isLoading: false,\n    userid: ''\n  },\n  getters: {},\n  mutations: {\n    initializeStore(state) {\n      if (localStorage.getItem('cart')) {\n        state.cart = JSON.parse(localStorage.getItem('cart'));\n      } else {\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n      }\n\n      if (localStorage.getItem('token')) {\n        state.token = localStorage.getItem('token');\n        state.isAuthenticated = true;\n      } else {\n        state.token = '';\n        state.isAuthenticated = false;\n      }\n    },\n\n    addToCart(state, item) {\n      const exists = state.cart.items.filter(i => i.product.id === item.product.id && i.category == item.category);\n\n      if (exists.length) {\n        exists[0].quantity = parseInt(exists[0].quantity) + parseInt(item.quantity);\n        exists[0].price = parseInt(exists[0].price) + parseInt(item.price);\n\n        if (!exists[0].price) {\n          exists[0].price = item.price;\n        }\n      } else {\n        state.cart.items.push(item);\n      }\n\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n\n    clearCart(state) {\n      state.cart = {\n        items: []\n      };\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n\n    setIsLoading(state, status) {\n      state.isLoading = status;\n    },\n\n    setToken(state, token) {\n      state.token = token;\n      state.isAuthenticated = true;\n    },\n\n    setUserId(state, Id) {\n      state.userid = Id;\n    },\n\n    removeUserId(state) {\n      state.userid = '';\n    },\n\n    removeToken(state) {\n      state.token = '';\n      state.isAuthenticated = false;\n    }\n\n  },\n  actions: {},\n  modules: {}\n});","map":{"version":3,"names":["createStore","state","cart","items","isAuthenticated","token","isLoading","userid","getters","mutations","initializeStore","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","item","exists","filter","i","product","id","category","length","quantity","parseInt","price","push","clearCart","setIsLoading","status","setToken","setUserId","Id","removeUserId","removeToken","actions","modules"],"sources":["/home/faiz/Anas-Defy/glass-vue/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    cart: {\n      items: [],\n    },\n    isAuthenticated:false,\n    token:'',\n    isLoading:false,\n    userid:''\n  },\n  getters: {\n  },\n  mutations: {\n    initializeStore(state) {\n      if (localStorage.getItem('cart')){\n        state.cart=JSON.parse(localStorage.getItem('cart'))\n      }else{\n        localStorage.setItem('cart',JSON.stringify(state.cart))\n      }\n\n      if (localStorage.getItem('token')) {\n        state.token = localStorage.getItem('token')\n        state.isAuthenticated = true\n      } else {\n          state.token = ''\n          state.isAuthenticated = false\n      } \n    },\n    addToCart(state, item) {\n      const exists = state.cart.items.filter(i => (i.product.id === item.product.id) && (i.category==item.category))\n      if (exists.length) {\n        exists[0].quantity = parseInt(exists[0].quantity) + parseInt(item.quantity)\n        exists[0].price = parseInt(exists[0].price) + parseInt(item.price)\n        if (!exists[0].price){\n          exists[0].price=item.price\n        }\n        \n      } else {\n        state.cart.items.push(item)\n      }\n\n      localStorage.setItem('cart', JSON.stringify(state.cart))\n    },    \n    clearCart(state) {\n      state.cart = { items: [] }\n\n      localStorage.setItem('cart', JSON.stringify(state.cart))\n    },\n    setIsLoading(state, status) {\n      state.isLoading = status\n    },\n    setToken(state, token) {\n      state.token = token\n      state.isAuthenticated = true\n    },\n    setUserId(state, Id) {\n      state.userid = Id\n    },\n    removeUserId(state) {\n        state.userid = ''\n    },  \n    removeToken(state) {\n        state.token = ''\n        state.isAuthenticated = false\n    },\n  },\n  actions: {\n  },\n  modules: {\n  }\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}