{"ast":null,"code":"import axios from 'axios';\nimport OrderSummary from '@/components/OrderSummary.vue';\nexport default {\n  name: 'MyAccount',\n  components: {\n    OrderSummary\n  },\n\n  data() {\n    return {\n      orders: [],\n      account_details: []\n    };\n  },\n\n  mounted() {\n    document.title = 'My account | Anasazi';\n    this.getMyOrders();\n    this.getAccountDetails();\n  },\n\n  methods: {\n    logout() {\n      axios.defaults.headers.common[\"Authorization\"] = \"\";\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"username\");\n      localStorage.removeItem(\"userid\");\n      this.$store.commit('removeToken');\n      this.$store.commit('removeUserId');\n      this.$router.push('/');\n    },\n\n    async getMyOrders() {\n      this.$store.commit('setIsLoading', true);\n      await axios.get('/api/v1/orders/').then(response => {\n        this.orders = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n      this.$store.commit('setIsLoading', false);\n    },\n\n    async GetFile() {\n      await axios.get(`/api/v1/CustomUser/document`, {\n        responseType: 'blob' // !!!\n\n      }).then(response => {\n        window.open(URL.createObjectURL(response.data));\n      });\n    },\n\n    getAccountDetails() {\n      axios.get(`/api/v1/CustomUser/${localStorage.getItem('userid')}/`).then(response => {\n        this.account_details = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmCA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,eAAe;EACXC,IAAI,EAAE,WADK;EAEXC,UAAU,EAAE;IACRF;EADQ,CAFD;;EAKXG,IAAI,GAAG;IACH,OAAO;MACHC,MAAM,EAAE,EADL;MAEHC,eAAe,EAAC;IAFb,CAAP;EAIH,CAVU;;EAWXC,OAAO,GAAG;IACNC,QAAQ,CAACC,KAAT,GAAiB,sBAAjB;IACA,KAAKC,WAAL;IACA,KAAKC,iBAAL;EACH,CAfU;;EAgBXC,OAAO,EAAE;IACLC,MAAM,GAAG;MACLb,KAAK,CAACc,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,EAAjD;MACAC,YAAY,CAACC,UAAb,CAAwB,OAAxB;MACAD,YAAY,CAACC,UAAb,CAAwB,UAAxB;MACAD,YAAY,CAACC,UAAb,CAAwB,QAAxB;MACA,KAAKC,MAAL,CAAYC,MAAZ,CAAmB,aAAnB;MACA,KAAKD,MAAL,CAAYC,MAAZ,CAAmB,cAAnB;MACA,KAAKC,OAAL,CAAaC,IAAb,CAAkB,GAAlB;IACH,CATI;;IAUL,MAAMZ,WAAN,GAAoB;MAChB,KAAKS,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;MACA,MAAMpB,KAAI,CACLuB,GADC,CACG,iBADH,EAEDC,IAFC,CAEIC,QAAO,IAAK;QACd,KAAKpB,MAAL,GAAcoB,QAAQ,CAACrB,IAAvB;MACH,CAJC,EAKDsB,KALC,CAKKC,KAAI,IAAK;QACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACH,CAPC,CAAN;MAQA,KAAKR,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;IACH,CArBI;;IAsBL,MAAMU,OAAN,GAAiB;MACb,MAAM9B,KAAK,CAACuB,GAAN,CAAW,6BAAX,EAAyC;QAC3CQ,YAAY,EAAE,MAD6B,CACtB;;MADsB,CAAzC,EAEHP,IAFG,CAEGC,QAAD,IAAc;QACtBO,MAAM,CAACC,IAAP,CAAYC,GAAG,CAACC,eAAJ,CAAoBV,QAAQ,CAACrB,IAA7B,CAAZ;MACC,CAJK,CAAN;IAKH,CA5BI;;IA6BLO,iBAAiB,GAAE;MACfX,KAAK,CAACuB,GAAN,CAAW,sBAAqBN,YAAY,CAACmB,OAAb,CAAqB,QAArB,CAA+B,GAA/D,EACCZ,IADD,CACMC,QAAQ,IAAE;QACZ,KAAKnB,eAAL,GAAqBmB,QAAQ,CAACrB,IAA9B;MACH,CAHD,EAICsB,KAJD,CAIOC,KAAK,IAAE;QACVC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACH,CAND;IAOJ;;EArCK;AAhBE,CAAf","names":["axios","OrderSummary","name","components","data","orders","account_details","mounted","document","title","getMyOrders","getAccountDetails","methods","logout","defaults","headers","common","localStorage","removeItem","$store","commit","$router","push","get","then","response","catch","error","console","log","GetFile","responseType","window","open","URL","createObjectURL","getItem"],"sourceRoot":"","sources":["/home/faiz/Anas-Defy/glass-vue/src/views/myAccount.vue"],"sourcesContent":["<template>\n    <div class=\"page-my-account\">\n        <div class=\"columns is-multiline\">\n            <div class=\"mt-4 mb-4\">\n                <h1 class=\"title \">My account</h1>\n            </div>\n\n\n            <div class=\"col-12\">\n                <button @click=\"logout()\" class=\"btn btn-success\">Log out</button>\n            </div>\n\n            <hr>\n\n            <div class=\"col-12\">\n                <div class=\"row\">\n                    <h2 class=\"subtitle heading float-left m-4 \">My orders</h2>\n                </div>\n                <br>\n\n                <div v-if=\"orders.length!=0\">\n                    <OrderSummary\n                        v-for=\"order in orders\"\n                        v-bind:key=\"order.id\"\n                        v-bind:order=\"order\" />\n                </div>\n\n                <div v-else>\n                    <h2 class=\"m-5\">No Orders Yet !!!!</h2>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport axios from 'axios'\nimport OrderSummary from '@/components/OrderSummary.vue'\nexport default {\n    name: 'MyAccount',\n    components: {\n        OrderSummary\n    },\n    data() {\n        return {\n            orders: [],\n            account_details:[]\n        }\n    },\n    mounted() {\n        document.title = 'My account | Anasazi'\n        this.getMyOrders()\n        this.getAccountDetails()\n    },\n    methods: {\n        logout() {\n            axios.defaults.headers.common[\"Authorization\"] = \"\"\n            localStorage.removeItem(\"token\")\n            localStorage.removeItem(\"username\")\n            localStorage.removeItem(\"userid\")\n            this.$store.commit('removeToken')\n            this.$store.commit('removeUserId')\n            this.$router.push('/')\n        },\n        async getMyOrders() {\n            this.$store.commit('setIsLoading', true)\n            await axios\n                .get('/api/v1/orders/')\n                .then(response => {\n                    this.orders = response.data\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n            this.$store.commit('setIsLoading', false)\n        },\n        async GetFile () {\n            await axios.get(`/api/v1/CustomUser/document`, {\n                responseType: 'blob' // !!!\n            }).then((response) => {\n            window.open(URL.createObjectURL(response.data));\n            })\n        },\n        getAccountDetails(){\n            axios.get(`/api/v1/CustomUser/${localStorage.getItem('userid')}/`)\n            .then(response=>{\n                this.account_details=response.data\n            })\n            .catch(error=>{\n                console.log(error)\n            })\n        }\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}