{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-662769ec\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"m-0\"\n};\nconst _hoisted_2 = [\"href\"];\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = {\n  key: 2\n};\nconst _hoisted_6 = {\n  key: 3\n};\nconst _hoisted_7 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"25\",\n  height: \"25\",\n  style: {\n    \"color\": \"green\"\n  },\n  fill: \"currentColor\",\n  class: \"bi bi-dash\",\n  viewBox: \"0 0 16 16\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"\n}, null, -1));\n\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"25\",\n  height: \"25\",\n  style: {\n    \"color\": \"green\"\n  },\n  fill: \"currentColor\",\n  class: \"bi bi-plus\",\n  viewBox: \"0 0 16 16\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"\n}, null, -1));\n\nconst _hoisted_12 = [_hoisted_11];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.item.quantity != 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_1, [_createElementVNode(\"td\", null, [_createElementVNode(\"a\", {\n    href: '/products/' + $data.item.product.id\n  }, _toDisplayString($data.item.product.name), 9, _hoisted_2)]), _createElementVNode(\"td\", null, _toDisplayString($data.item.product.size), 1), $data.account_details.account_type != 'Consumer' && $data.account_details.approved == true ? (_openBlock(), _createElementBlock(\"td\", _hoisted_3, \" $\" + _toDisplayString($data.item.price * $data.discount), 1)) : $data.account_details.account_type != 'Consumer' && $data.account_details.approved == false ? (_openBlock(), _createElementBlock(\"td\", _hoisted_4, \" $\" + _toDisplayString($data.item.price), 1)) : $data.discount != 1 ? (_openBlock(), _createElementBlock(\"td\", _hoisted_5, \" $\" + _toDisplayString($data.item.price * $data.discount), 1)) : (_openBlock(), _createElementBlock(\"td\", _hoisted_6, \" $\" + _toDisplayString($data.item.price), 1)), _createElementVNode(\"td\", null, [_createElementVNode(\"a\", {\n    onClick: _cache[0] || (_cache[0] = $event => $options.decrementQuantity($data.item))\n  }, [(_openBlock(), _createElementBlock(\"svg\", _hoisted_7, _hoisted_9))]), _createTextVNode(\" \" + _toDisplayString($data.item.quantity) + \" \", 1), _createElementVNode(\"a\", {\n    onClick: _cache[1] || (_cache[1] = $event => $options.incrementQuantity($data.item))\n  }, [(_openBlock(), _createElementBlock(\"svg\", _hoisted_10, _hoisted_12))])]), _createElementVNode(\"td\", null, \"$\" + _toDisplayString($options.getItemTotal($data.item).toFixed(2)), 1)])) : _createCommentVNode(\"\", true);\n}","map":{"version":3,"mappings":";;;;;;EAGgCA,KAAK,EAAC;;;;;;;;;;;;;;;;EAwB5BC,KAAK,EAAC;EACNC,KAAK,EAAC;EACNC,MAAM,EAAC;EACPC,KAAoB,EAApB;IAAA;EAAA;EACAC,IAAI,EAAC;EACLL,KAAK,EAAC;EACNM,OAAO,EAAC;;;gEAERC,oBAEE,MAFF,EAEE;EADAC,CAAC,EAAC;AACF,CAFF,EAC+D,IAD/D,EAC+D,EAD/D;;oBAAAC;;EAOAR,KAAK,EAAC;EACNC,KAAK,EAAC;EACNC,MAAM,EAAC;EACPC,KAAoB,EAApB;IAAA;EAAA;EACAC,IAAI,EAAC;EACLL,KAAK,EAAC;EACNM,OAAO,EAAC;;;iEAERC,oBAEE,MAFF,EAEE;EADAC,CAAC,EAAC;AACF,CAFF,EAC2G,IAD3G,EAC2G,EAD3G;;qBAAAE;;SA/CEC,WAAKC,QAAL,IAAa,mBAAvBC,oBAsDK,IAtDL,cAsDK,CApDHN,oBAEK,IAFL,EAEK,IAFL,EAEK,CADHA,oBAAsE,GAAtE,EAAsE;IAAlEO,IAAI,iBAAiBH,WAAKI,OAAL,CAAaC;EAAgC,CAAtE,mBAA8CL,WAAKI,OAAL,CAAaE,KAA3D,EAA+D,CAA/D,EAA+DC,UAA/D,CACG,CAFL,CAoDG,EAjDHX,oBAAgC,IAAhC,EAAgC,IAAhC,EAAgCY,iBAAzBR,WAAKI,OAAL,CAAaK,IAAY,CAAhC,EAAwB,CAAxB,CAiDG,EA/CiBT,sBAAgBU,YAAhB,IAA4B,UAA5B,IAA4CV,sBAAgBW,QAAhB,IAAwB,sBAA9ET,oBAEK,IAFL,EAEKU,UAFL,EAAuF,OACnFJ,iBAAGR,WAAKa,KAAL,GAAab,cAAhB,CADJ,EAC4B,CAD5B,KAGeA,sBAAgBU,YAAhB,IAA4B,UAA5B,IAA4CV,sBAAgBW,QAAhB,IAAwB,uBAAnFT,oBAEK,IAFL,EAEKY,UAFL,EAA6F,OACzFN,iBAAGR,WAAKa,KAAR,CADJ,EACiB,CADjB,KAGeb,kBAAQ,mBAAvBE,oBAEK,IAFL,EAEKa,UAFL,EAA4B,OACvBP,iBAAGR,WAAKa,KAAL,GAAab,cAAhB,CADL,EAC6B,CAD7B,oBAGAE,oBAEL,IAFK,EAELc,UAFK,EAAW,OACPR,iBAAGR,WAAKa,KAAR,CADJ,EACiB,CADjB,EAsCP,EAjCHjB,oBA8BK,IA9BL,EA8BK,IA9BL,EA8BK,CA7BHA,oBAaK,GAbL,EAaK;IAbDqB,OAAK,sCAAEC,2BAAkBlB,UAAlB,CAAF;EAaJ,CAbL,kBACGE,oBAYF,KAZE,cAYFiB,UAZE,GADH,CA6BG,mBAhBE,MACLX,iBAAGR,WAAKC,QAAR,CADK,GACc,KACnB,EAcG,EAdHL,oBAaK,GAbL,EAaK;IAbDqB,OAAK,sCAAEC,2BAAkBlB,UAAlB,CAAF;EAaJ,CAbL,kBACGE,oBAYF,KAZE,eAYFkB,WAZE,GADH,CAcG,CA9BL,CAiCG,EAFHxB,oBAA6C,IAA7C,EAA6C,IAA7C,EAAI,MAACY,iBAAGU,sBAAalB,UAAb,EAAmBqB,OAAnB,CAA0B,CAA1B,CAAH,CAAL,EAAkC,CAAlC,CAEG,CAtDL","names":["class","xmlns","width","height","style","fill","viewBox","_createElementVNode","d","_hoisted_8","_hoisted_11","$data","quantity","_createElementBlock","href","product","id","name","_hoisted_2","_toDisplayString","size","account_type","approved","_hoisted_3","price","_hoisted_4","_hoisted_5","_hoisted_6","onClick","$options","_hoisted_9","_hoisted_12","toFixed"],"sourceRoot":"","sources":["/home/fiaz/Documents/GitHub/gtl-vue/src/components/CartItem.vue"],"sourcesContent":["<template>\n  <!-- <div v-if=\"item.quantity!=0\"> -->\n\n  <tr v-if=\"item.quantity != 0\" class=\"m-0\">\n    <!-- {{item}} -->\n    <td>\n      <a :href=\"'/products/' + item.product.id\"> {{ item.product.name }}</a>\n    </td>\n    <td>{{ item.product.size }}</td>\n<!--  -->\n              <td v-if=\"account_details.account_type!='Consumer' && account_details.approved==true\" >\n                 ${{ item.price * discount}} \n              </td>\n              <td v-else-if=\"account_details.account_type!='Consumer' && account_details.approved==false\" >\n                 ${{ item.price }}\n              </td>\n              <td v-else-if=\"discount!=1\">\n                  ${{ item.price * discount }}           \n              </td>\n              <td v-else>\n                 ${{ item.price }}                \n    </td>\n<!--  -->\n    <!-- <td>${{ item.price }}</td> -->\n    <td>\n      <a @click=\"decrementQuantity(item)\"\n        ><svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"25\"\n          height=\"25\"\n          style=\"color: green\"\n          fill=\"currentColor\"\n          class=\"bi bi-dash\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path\n            d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"\n          /></svg\n      ></a>\n      {{ item.quantity }}\n      <a @click=\"incrementQuantity(item)\"\n        ><svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"25\"\n          height=\"25\"\n          style=\"color: green\"\n          fill=\"currentColor\"\n          class=\"bi bi-plus\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path\n            d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"\n          /></svg\n      ></a>\n    </td>\n    <td>${{ getItemTotal(item).toFixed(2) }}</td>\n    <!-- <td><button class=\"delete\" @click=\"removeFromCart(item)\"></button>delete</td> -->\n  </tr>\n  <!-- </div> -->\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  name: \"CartItem\",\n  props: {\n    initialItem: Object,\n  },\n  data() {\n    return {\n      item: this.initialItem,\n      account_details:[],\n      discount:1\n    };\n  },\n  mounted(){\n    this.getAccountDetails()\n  },\n  methods: {\n    getItemTotal(item) {\n      if (this.account_details.account_type!='Consumer' && this.account_details.approved==true){\n        return item.quantity * item.price *this.discount;        \n      }\n      else if(this.account_details.account_type!='Consumer' && this.account_details.approved==false) {\n        return item.quantity * item.price ;\n      }\n      else if(this.discount!=1) {\n        return item.quantity * item.price *this.discount ;\n      }\n      else{\n        return item.quantity * item.price *this.discount;\n      }\n    },\n    decrementQuantity(item) {\n      item.quantity -= 1;\n      if (item.quantity === 0) {\n        this.$emit(\"removeFromCart\", item);\n      }\n      this.updateCart();\n    },\n    incrementQuantity(item) {\n      item.quantity += 1;\n      this.updateCart();\n    },\n    updateCart() {\n      localStorage.setItem(\"cart\", JSON.stringify(this.$store.state.cart));\n    },\n    removeFromCart(item) {\n      this.$emit(\"removeFromCart\", item);\n      this.updateCart();\n    },      \n    getAccountDetails(){\n        axios.get(`/api/v1/CustomUser/${localStorage.getItem('userid')}/`)\n          .then(response=>{\n            this.account_details=response.data\n            this.setDiscount()\n          })\n          .catch(error=>{\n              console.log(error)\n          })\n      },\n      setDiscount(){\n        console.log(\"hello \",this.account_details.account_type)\n        if (this.account_details.account_type==\"Retailer\"){\n          this.discount=0.6\n        }\n        else if (this.account_details.account_type==\"Distributor\"){\n          console.log(\"distributor\")\n          this.discount=0.4\n        }\n        else{\n          this.discount=1\n        }\n      }\n  },\n};\n</script>\n\n<style scoped>\na {\n  color: black;\n}\n</style>"]},"metadata":{},"sourceType":"module"}